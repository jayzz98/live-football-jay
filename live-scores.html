<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Live Football Scores</title>
  <style>
    body            { margin:0; font-family: Arial, sans-serif; background:#111; color:#fff; }
    h2              { margin:0; padding:12px 16px; background:#c62828; font-size:22px; }
    #scores         { padding:10px 16px; }
    .match          { padding:8px 0; border-bottom:1px solid #333; }
    .team           { font-weight:600; }
    .score          { color:#00e676; margin:0 6px; }
    .empty          { color:#bbb; }
  </style>
</head>
<body>
  <h2>Live Football Scores</h2>
  <div id="scores">Loading&hellip;</div>

  <script>
    const API_URL = 'https://www.scorebat.com/video-api/v3/';     // open JSON feed
    const PROXY   = 'https://api.allorigins.win/raw?url=';        // CORS fallback

    async function fetchScores () {
      const box   = document.getElementById('scores');
      box.textContent = 'Loading…';

      try {
        // first try direct call
        let res = await fetch(API_URL);
        if (!res.ok) {                         // if CORS blocked
          res = await fetch(PROXY + encodeURIComponent(API_URL));
        }
        const raw   = await res.json();
        const items = (raw.response || raw || []).slice(0, 30);   // safety slice
        box.innerHTML = '';

        let shown = 0;
        const regex = /^(.*?)\s*[-–]\s*(.*?)\s+(\d+)\s*[-–]\s*(\d+)/;

        items.forEach(it => {
          const t = it.title || '';
          const m = t.match(regex);
          if (m) {
            const [, home, away, hScore, aScore] = m;
            const div = document.createElement('div');
            div.className = 'match';
            div.innerHTML = `
              <span class="team">${home}</span>
              <span class="score">${hScore}-${aScore}</span>
              <span class="team">${away}</span>`;
            box.appendChild(div);
            shown++;
          }
        });

        if (shown === 0) {
          box.innerHTML = '<p class="empty">No live matches right now. Check back soon ⚽</p>';
        }
      } catch (e) {
        console.error(e);
        box.innerHTML = '<p class="empty">Unable to fetch scores (network error)</p>';
      }
    }

    fetchScores();                 // initial load
    setInterval(fetchScores, 60000);  // refresh every 60 s
  </script>
</body>
</html>
